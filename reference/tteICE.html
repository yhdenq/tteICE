<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Using formula to fit CIFs for time-to-event data with intercurrent events — tteICE • tteICE</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using formula to fit CIFs for time-to-event data with intercurrent events — tteICE"><meta name="description" content="This function estimates the potential cumulative incidence function for time-to event data under ICH E9 (R1) to address intercurrent events.
The input data can be competing or semicompeting risks data structure."><meta property="og:description" content="This function estimates the potential cumulative incidence function for time-to event data under ICH E9 (R1) to address intercurrent events.
The input data can be competing or semicompeting risks data structure."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tteICE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mephas/tteICE/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using formula to fit CIFs for time-to-event data with intercurrent events</h1>
      <small class="dont-index">Source: <a href="https://github.com/mephas/tteICE/blob/main/R/tteICE.R" class="external-link"><code>R/tteICE.R</code></a></small>
      <div class="d-none name"><code>tteICE.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function estimates the potential cumulative incidence function for time-to event data under ICH E9 (R1) to address intercurrent events.
The input data can be competing or semicompeting risks data structure.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tteICE</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  add.scr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  strategy <span class="op">=</span> <span class="st">"composite"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"np"</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  subset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nboot <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>An object of class "formula" (or one that can be coerced to that class).
A symbolic description of the model to be fitted.
For example, <code>formula=Surv(time, status, type="mstate")~treatment | baseline.covariate</code>.
The details of model specification are given under ‘Details’.</p></dd>


<dt id="arg-add-scr">add.scr<a class="anchor" aria-label="anchor" href="#arg-add-scr"></a></dt>
<dd><p>Required for semicompeting data.
An object of class "Surv" (or one that can be coerced to that class).
For example, <code>add.scr=~Surv(time.intercurrent, status.intercurrent)</code>.
The details of model specification are given under ‘Details’.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>Data or object coercible by as.data.frame to a data frame,
containing the variables in the model.</p></dd>


<dt id="arg-strategy">strategy<a class="anchor" aria-label="anchor" href="#arg-strategy"></a></dt>
<dd><p>Strategy to address intercurrent events, <code>"treatment"</code> indicating treatment policy strategy,
<code>"composite"</code> indicating composite variable strategy, <code>"natural"</code> indicating hypothetical strategy
(Scenario I, controlling the hazard of intercurrent events), <code>"removed"</code> indicating hypothetical strategy
(Scenario II, removing intercurrent events), <code>"whileon"</code> indicating while on treatment strategy, and
<code>"principal"</code> indicating principal stratum strategy.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Estimation method, <code>"np"</code> indicating nonparametric estimation, <code>"np"</code> indicating inverse
treatment probability weighting, <code>"eff"</code> indicating semiparametrically efficient estimation based on efficient
influence functions.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>Weight for each subject.</p></dd>


<dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>Subset, either numerical or logical.</p></dd>


<dt id="arg-na-rm">na.rm<a class="anchor" aria-label="anchor" href="#arg-na-rm"></a></dt>
<dd><p>Whether to remove missing values.</p></dd>


<dt id="arg-nboot">nboot<a class="anchor" aria-label="anchor" href="#arg-nboot"></a></dt>
<dd><p>Number of resamplings in the boostrapping method. If <code>nboot</code> is 0 or 1, then
asymptotic standard error based on the explicit form is calculated instead of bootstrapping.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Seed for bootstrapping.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list including the fitted object and input variables.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<dl><dt>Background</dt>
<dd><p>Intercurrent events refer to the events occurring after treatment initiation of clinical trials that
affect either the interpretation of or the existence of the measurements associated with the clinical
question of interest. The International Conference on Harmonization (ICH) E9 (R1) addendum proposed
five strategies to address intercurrent events, namely, treatment policy strategy,
composite variable strategy, while on treatment strategy, hypothetical strategy, and principal stratum
strategy. To answer a specific scientific question, a strategy with a particular estimand is chosen
before the study design.</p></dd>

<dt>Model</dt>
<dd><p>We adopt the potential outcomes framework that defines a causal estimand as the contrast between
functionals of potential outcomes. Consider a randomized controlled trial with \(n\) individuals
randomly assigned to one of two treatment conditions, denoted by \(w\), where \(w = 1\) represents
the active treatment (a test drug) and \(w = 0\) represents the control (placebo). Assume that all
patients adhere to their treatment assignments and do not discontinue treatment. Associated with individual
\(i = 1, ..., n\) are two potential time-to-event primary outcomes \(T_i(1)\) and \(T_i(0)\),
if any, which represent the time durations from treatment initiation to the primary outcome event under
two treatment assignments respectively. Let \(R_i(1)\) and \(R_i(0)\) denote the occurrence time of
potential intercurrent events, if any, under the two treatment assignments, respectively. Intercurrent
events are considered as absent if no post-treatment intercurrent events occur until the end of study.</p></dd>

<dt>Estimand</dt>
<dd><p>We adopt the potential cumulative incidences under both treatment assignments as the target estimands.
Potential cumulative incidences describe the probability of time-to-event outcomes occurring at each
time point. We define the treatment effect as the contrast of two potential cumulative incidences.
Cumulative incidences are model-free and collapsible, enjoying causal interpretations.</p></dd>

<dt>Formula specifications</dt>
<dd><p>The formula should be set as the following two ways.</p>
<p>When data take format of competing risk data, set the first argument <code>formula = Surv(time, status, type="mstate") ~ treatment | covariate1+covariate2</code>
or <code>formula = Surv(time, status)~ A</code> without any baseline covariates, where <code>status</code>=0,1,2 (1 for the primary event, 2 for the intercurrent event, and 0 for censoring).</p>
<p>When data take the format of semicompeting risk data, set the first argument <code>formula = Surv(time, status) ~ treatment | covariate1+covariate2</code>
or <code>formula = Surv(time, status)~ A</code> without any baseline covariates, where <code>status</code>=0,1 (1 for the primary event and 0 for censoring).
In addition, the second argument <code>add.scr = ~ Surv(time.intercurrent, status.intercurrent)</code> is required.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Deng, Y., Han, S., &amp; Zhou, X. H. (2025).
Inference for Cumulative Incidences and Treatment Effects in Randomized Controlled Trials With Time-to-Event Outcomes Under ICH E9 (R1).
<em>Statistics in Medicine</em>. <a href="https://doi.org/10.1002/sim.70091" class="external-link">doi:10.1002/sim.70091</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="surv.boot.html">surv.boot</a></code>, <code><a href="scr.tteICE.html">scr.tteICE</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## load data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">bmt</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bmt</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/transform.html" class="external-link">transform</a></span><span class="op">(</span><span class="va">bmt</span>, d4<span class="op">=</span><span class="va">d2</span><span class="op">+</span><span class="va">d3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">A</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">bmt</span><span class="op">$</span><span class="va">group</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">bmt</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'z1'</span>,<span class="st">'z3'</span>,<span class="st">'z5'</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bmt</span><span class="op">$</span><span class="va">A</span> <span class="op">=</span> <span class="va">A</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Composite variable strategy,</span></span></span>
<span class="r-in"><span><span class="co">## nonparametric estimation without covariates</span></span></span>
<span class="r-in"><span><span class="co">## Composite variable strategy,</span></span></span>
<span class="r-in"><span><span class="co">## nonparametric estimation without covariates</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## model fitting for competing risk data without covariates</span></span></span>
<span class="r-in"><span><span class="va">fit1</span> <span class="op">=</span> <span class="fu">tteICE</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">t2</span>, <span class="va">d4</span>, type <span class="op">=</span> <span class="st">"mstate"</span><span class="op">)</span><span class="op">~</span><span class="va">A</span>,</span></span>
<span class="r-in"><span> data<span class="op">=</span><span class="va">bmt</span>, strategy<span class="op">=</span><span class="st">"composite"</span>, method<span class="op">=</span><span class="st">'eff'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fit1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Input:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tteICE(formula = Surv(t2, d4, type = "mstate") ~ A, data = bmt, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     strategy = "composite", method = "eff")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data type: competing risks </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Strategy: composite variable strategy </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Estimation method: semiparametrically efficient estimation </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 137 (including 99 treated and 38 control)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maximum follow-up time: 2640 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P-value of the average treatment effect: 0.5907 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The estimated cumulative incidences and treatment effects at quartiles:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           660    1320    1980    2640</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CIF1   0.5323  0.5864  0.5864  0.6299</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se1    0.0501  0.0499  0.0499  0.0617</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CIF0   0.6087  0.6377  0.6377  0.6377</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se0    0.0803  0.0793  0.0793  0.0793</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATE   -0.0764 -0.0513 -0.0513 -0.0078</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se     0.0946  0.0937  0.0937  0.1005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> p.val  0.4192  0.5843  0.5843  0.9384</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## model fitting for competing risk data without covariates </span></span></span>
<span class="r-in"><span><span class="co">## with bootstrap confidence intervals</span></span></span>
<span class="r-in"><span><span class="va">fit.bt1</span> <span class="op">=</span> <span class="fu">tteICE</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">t2</span>, <span class="va">d4</span>, type <span class="op">=</span> <span class="st">"mstate"</span><span class="op">)</span><span class="op">~</span><span class="va">A</span>,</span></span>
<span class="r-in"><span> data<span class="op">=</span><span class="va">bmt</span>, strategy<span class="op">=</span><span class="st">"composite"</span>, method<span class="op">=</span><span class="st">'eff'</span>, nboot<span class="op">=</span><span class="fl">20</span>, seed<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fit.bt1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Input:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tteICE(formula = Surv(t2, d4, type = "mstate") ~ A, data = bmt, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     strategy = "composite", method = "eff", nboot = 20, seed = 2)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data type: competing risks </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Strategy: composite variable strategy </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Estimation method: semiparametrically efficient estimation </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 137 (including 99 treated and 38 control)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maximum follow-up time: 2640 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P-value of the average treatment effect: 0.5907 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The estimated cumulative incidences and treatment effects at quartiles:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           660    1320    1980    2640</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CIF1   0.5323  0.5864  0.5864  0.6299</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se1    0.0511  0.0574  0.0574  0.0586</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CIF0   0.6087  0.6377  0.6377  0.6377</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se0    0.0673  0.0716  0.0716  0.0716</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATE   -0.0764 -0.0513 -0.0513 -0.0078</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se     0.0857  0.0916  0.0916  0.0912</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> p.val  0.3723  0.5759  0.5759  0.9321</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## model fitting for competing risk data with covariates</span></span></span>
<span class="r-in"><span><span class="va">fit2</span> <span class="op">=</span> <span class="fu">tteICE</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">t2</span>, <span class="va">d4</span>, type <span class="op">=</span> <span class="st">"mstate"</span><span class="op">)</span><span class="op">~</span><span class="va">A</span><span class="op">|</span><span class="va">z1</span><span class="op">+</span><span class="va">z3</span><span class="op">+</span><span class="va">z5</span>,</span></span>
<span class="r-in"><span> data<span class="op">=</span><span class="va">bmt</span>, strategy<span class="op">=</span><span class="st">"composite"</span>, method<span class="op">=</span><span class="st">'eff'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fit2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Input:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tteICE(formula = Surv(t2, d4, type = "mstate") ~ A | z1 + z3 + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     z5, data = bmt, strategy = "composite", method = "eff")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data type: competing risks </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Strategy: composite variable strategy </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Estimation method: semiparametrically efficient estimation </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 137 (including 99 treated and 38 control)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maximum follow-up time: 2640 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P-value of the average treatment effect: 0.1366 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The estimated cumulative incidences and treatment effects at quartiles:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           660    1320    1980    2640</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CIF1   0.5246  0.5836  0.5836  0.6347</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se1    0.0514  0.0511  0.0511  0.0587</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CIF0   0.6784  0.7010  0.7010  0.7010</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se0    0.0662  0.0651  0.0651  0.0651</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATE   -0.1538 -0.1174 -0.1174 -0.0663</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se     0.0838  0.0828  0.0828  0.0877</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> p.val  0.0667  0.1560  0.1560  0.4494</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## model fitting for semicompeting risk data without covariates</span></span></span>
<span class="r-in"><span><span class="va">fitscr1</span> <span class="op">=</span> <span class="fu">tteICE</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">d1</span><span class="op">)</span><span class="op">~</span><span class="va">A</span>, <span class="op">~</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">t2</span>, <span class="va">d2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> data<span class="op">=</span><span class="va">bmt</span>, strategy<span class="op">=</span><span class="st">"composite"</span>, method<span class="op">=</span><span class="st">'eff'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fitscr1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Input:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tteICE(formula = Surv(t1, d1) ~ A, add.scr = ~Surv(t2, d2), data = bmt, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     strategy = "composite", method = "eff")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data type: semicompeting risks </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Strategy: composite variable strategy </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Estimation method: semiparametrically efficient estimation </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 137 (including 99 treated and 38 control)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maximum follow-up time: 2640 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P-value of the average treatment effect: 0.5907 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The estimated cumulative incidences and treatment effects at quartiles:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           660    1320    1980    2640</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CIF1   0.5323  0.5864  0.5864  0.6299</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se1    0.0501  0.0499  0.0499  0.0617</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CIF0   0.6087  0.6377  0.6377  0.6377</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se0    0.0803  0.0793  0.0793  0.0793</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATE   -0.0764 -0.0513 -0.0513 -0.0078</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se     0.0946  0.0937  0.0937  0.1005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> p.val  0.4192  0.5843  0.5843  0.9384</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## model fitting for semicompeting risk data without covariates</span></span></span>
<span class="r-in"><span><span class="va">fitscr2</span> <span class="op">=</span> <span class="fu">tteICE</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">t1</span>, <span class="va">d1</span><span class="op">)</span><span class="op">~</span><span class="va">A</span><span class="op">|</span><span class="va">z1</span><span class="op">+</span><span class="va">z3</span><span class="op">+</span><span class="va">z5</span>, <span class="op">~</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">t2</span>, <span class="va">d2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> data<span class="op">=</span><span class="va">bmt</span>, strategy<span class="op">=</span><span class="st">"composite"</span>, method<span class="op">=</span><span class="st">'eff'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fitscr2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Input:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tteICE(formula = Surv(t1, d1) ~ A | z1 + z3 + z5, add.scr = ~Surv(t2, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     d2), data = bmt, strategy = "composite", method = "eff")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data type: semicompeting risks </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Strategy: composite variable strategy </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Estimation method: semiparametrically efficient estimation </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Observations: 137 (including 99 treated and 38 control)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maximum follow-up time: 2640 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> P-value of the average treatment effect: 0.1366 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The estimated cumulative incidences and treatment effects at quartiles:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           660    1320    1980    2640</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CIF1   0.5246  0.5836  0.5836  0.6347</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se1    0.0514  0.0511  0.0511  0.0587</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CIF0   0.6784  0.7010  0.7010  0.7010</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se0    0.0662  0.0651  0.0651  0.0651</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATE   -0.1538 -0.1174 -0.1174 -0.0663</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> se     0.0838  0.0828  0.0828  0.0877</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> p.val  0.0667  0.1560  0.1560  0.4494</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yuhao Deng, Yi Zhou.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

